import{_ as en,r as Ht,o as nn,c as rn,a as f,b as V,w as Y,t as Te,d as rr,e as or}from"./index-C1qOSwgN.js";const sr="/assets/rate-gWtbdGGt.svg",ir="/assets/gym-CUHKWrHZ.svg",ar="/assets/schedule-DQ5Oo-8E.svg",cr="/assets/profile-ySWm47WS.svg",ur={},lr={class:"v-footer"},pr={class:"v-footer__container container"},_r={class:"v-footer__list"},fr={class:"v-footer__list-item footer-link"},dr={class:"v-footer__list-item footer-link"},hr={class:"v-footer__list-item footer-link"},br={class:"v-footer__list-item footer-link"};function gr(t,e){const n=Ht("router-link");return nn(),rn("footer",lr,[f("div",pr,[f("ul",_r,[f("li",fr,[V(n,{to:{name:"rate"}},{default:Y(()=>e[0]||(e[0]=[f("div",{class:"footer-link__image"},[f("img",{src:sr,alt:""})],-1),f("div",{class:"footer-link__title"}," Тарифы ",-1)])),_:1})]),f("li",dr,[V(n,{to:{name:"rate"}},{default:Y(()=>e[1]||(e[1]=[f("div",{class:"footer-link__image"},[f("img",{src:ir,alt:""})],-1),f("div",{class:"footer-link__title"}," Тренировки ",-1)])),_:1})]),f("li",hr,[V(n,{to:{name:"rate"}},{default:Y(()=>e[2]||(e[2]=[f("div",{class:"footer-link__image"},[f("img",{src:ar,alt:""})],-1),f("div",{class:"footer-link__title"}," Расписание ",-1)])),_:1})]),f("li",br,[V(n,{to:{name:"rate"}},{default:Y(()=>e[3]||(e[3]=[f("div",{class:"footer-link__image"},[f("img",{src:cr,alt:""})],-1),f("div",{class:"footer-link__title"}," Профиль ",-1)])),_:1})])])])])}const mr=en(ur,[["render",gr]]);class j extends Error{constructor(e,n,r){super(typeof n=="object"?n.message:n||e,{cause:typeof n=="object"?n.cause:r}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,j.prototype)}}function wr(t){return t.replace(/_[a-z]/g,e=>e[1].toUpperCase())}const yr="ERR_INVALID_VALUE",vr="ERR_UNEXPECTED_VALUE",Er="ERR_UNEXPECTED_TYPE",on="ERR_PARSE";function Ar(t,e){const n={};for(const r in t){const o=t[r];if(!o)continue;let s,i;typeof o=="function"?(s=r,i=o):[s,i]=o;try{const a=i(e(s));a!==void 0&&(n[r]=a)}catch(a){throw new j(on,`Parser for "${r}" property failed${s===r?"":`. Source field: "${s}"`}`,a)}}return n}function sn(t){let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch(n){throw new j(yr,{cause:n})}if(typeof e!="object"||!e||Array.isArray(e))throw new j(vr);return e}function nt(t,e){return n=>{const r=o=>{if(!(n&&o===void 0))try{return e(o)}catch(s){throw new j(on,{message:`"${t}" transformer failed to parse the value`,cause:s})}};return Object.assign(r,{isValid(o){try{return r(o),!0}catch{return!1}}})}}function Sr(t,e){return nt("object",n=>{const r=sn(n);return Ar(t,o=>r[o])})}function an(t){throw new j(Er,`Unexpected value received: ${JSON.stringify(t)}`)}const se=nt("string",t=>{if(typeof t=="string"||typeof t=="number")return t.toString();an(t)});function tt(t){return/^#[\da-f]{6}$/i.test(t)}function Rr(t){return/^#[\da-f]{3}$/i.test(t)}function kr(t){const e=t.replace(/\s/g,"").toLowerCase();if(tt(e))return e;if(Rr(e)){let r="#";for(let o=0;o<3;o+=1)r+=e[1+o].repeat(2);return r}const n=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${t}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,o)=>{const s=parseInt(o,10).toString(16);return r+(s.length===1?"0":"")+s},"#")}const Cr=nt("rgb",t=>kr(se()(t))),$r=nt("themeParams",t=>{const e=Cr(!0);return Object.entries(sn(t)).reduce((n,[r,o])=>(n[wr(r)]=e(o),n),{})});function xr(t,e){return nt("array",n=>{let r;if(Array.isArray(n))r=n;else if(typeof n=="string")try{const o=JSON.parse(n);Array.isArray(o)&&(r=o)}catch{}return r||an(n),r.map(t)})}class N extends Error{constructor(e,n,r){super(typeof n=="object"?n.message:n||e,{cause:typeof n=="object"?n.cause:r}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,N.prototype)}}function cn(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function Pr(t){return t.replace(/_[a-z]/g,e=>e[1].toUpperCase())}const Ir="ERR_INVALID_VALUE",Or="ERR_UNEXPECTED_VALUE",Tr="ERR_UNEXPECTED_TYPE",un="ERR_PARSE";function ln(t,e){const n={};for(const r in t){const o=t[r];if(!o)continue;let s,i;typeof o=="function"?(s=r,i=o):[s,i]=o;try{const a=i(e(s));a!==void 0&&(n[r]=a)}catch(a){throw new N(un,`Parser for "${r}" property failed${s===r?"":`. Source field: "${s}"`}`,a)}}return n}function pn(t){let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch(n){throw new N(Ir,{cause:n})}if(typeof e!="object"||!e||Array.isArray(e))throw new N(Or);return e}function P(t,e){return n=>{const r=o=>{if(!(n&&o===void 0))try{return e(o)}catch(s){throw new N(un,{message:`"${t}" transformer failed to parse the value`,cause:s})}};return Object.assign(r,{isValid(o){try{return r(o),!0}catch{return!1}}})}}function x(t,e){return P(e||"object",n=>{const r=pn(n);return ln(t,o=>r[o])})}function rt(t){throw new N(Tr,`Unexpected value received: ${JSON.stringify(t)}`)}const lt=P("boolean",t=>{if(typeof t=="boolean")return t;const e=String(t);if(e==="1"||e==="true")return!0;if(e==="0"||e==="false")return!1;rt(t)}),R=P("string",t=>{if(typeof t=="string"||typeof t=="number")return t.toString();rt(t)}),et=P("number",t=>{if(typeof t=="number")return t;if(typeof t=="string"){const e=Number(t);if(!Number.isNaN(e))return e}rt(t)}),Dr=P("date",t=>t instanceof Date?t:new Date(et()(t)*1e3));function _n(t,e){return P(e||"searchParams",n=>{typeof n!="string"&&!(n instanceof URLSearchParams)&&rt(n);const r=typeof n=="string"?new URLSearchParams(n):n;return ln(t,o=>{const s=r.get(o);return s===null?void 0:s})})}function Dt(t){for(const e in t)t[e]=[cn(e),t[e]];return t}const Lr=t=>{const e=et(),n=et(!0),r=R(),o=R(!0),s=lt(!0),i=x(Dt({addedToAttachmentMenu:s,allowsWriteToPm:s,firstName:r,id:e,isBot:s,isPremium:s,languageCode:o,lastName:o,photoUrl:o,username:o}),"User")(!0);return _n(Dt({authDate:Dr(),canSendAfter:n,chat:x(Dt({id:e,type:r,title:r,photoUrl:o,username:o}),"Chat")(!0),chatInstance:o,chatType:o,hash:r,queryId:o,receiver:i,startParam:o,signature:r,user:i}),"initData")(t)};function jr(t){return/^#[\da-f]{6}$/i.test(t)}function Nr(t){return/^#[\da-f]{3}$/i.test(t)}function Ur(t){const e=t.replace(/\s/g,"").toLowerCase();if(jr(e))return e;if(Nr(e)){let r="#";for(let o=0;o<3;o+=1)r+=e[1+o].repeat(2);return r}const n=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${t}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,o)=>{const s=parseInt(o,10).toString(16);return r+(s.length===1?"0":"")+s},"#")}const qr=P("rgb",t=>Ur(R()(t))),De=P("themeParams",t=>{const e=qr(!0);return Object.entries(pn(t)).reduce((n,[r,o])=>(n[Pr(r)]=e(o),n),{})});function Le(t){return JSON.stringify(Object.fromEntries(Object.entries(t).map(([e,n])=>[cn(e),n])))}const Vr=t=>{const e=R(),n=R(!0),r=lt(!0);return _n({botInline:["tgWebAppBotInline",r],defaultColors:["tgWebAppDefaultColors",De(!0)],fullscreen:["tgWebAppFullscreen",r],initData:["tgWebAppData",Lr(!0)],initDataRaw:["tgWebAppData",n],platform:["tgWebAppPlatform",e],showSettings:["tgWebAppShowSettings",r],startParam:["tgWebAppStartParam",n],themeParams:["tgWebAppThemeParams",De()],version:["tgWebAppVersion",e]},"launchParams")(t)};function Br(t){const{initDataRaw:e,startParam:n,showSettings:r,botInline:o,fullscreen:s,defaultColors:i}=t,a=new URLSearchParams;return a.set("tgWebAppPlatform",t.platform),a.set("tgWebAppThemeParams",Le(t.themeParams)),a.set("tgWebAppVersion",t.version),e&&a.set("tgWebAppData",e),n&&a.set("tgWebAppStartParam",n),typeof r=="boolean"&&a.set("tgWebAppShowSettings",r?"1":"0"),typeof o=="boolean"&&a.set("tgWebAppBotInline",o?"1":"0"),typeof s=="boolean"&&a.set("tgWebAppFullscreen",s?"1":"0"),i&&a.set("tgWebAppDefaultColors",Le(i)),a.toString()}const Wr=x({eventType:R(),eventData:t=>t},"miniAppsMessage"),fn=P("fn",t=>{if(typeof t=="function")return t;rt(t)}),Fr=x({TelegramWebviewProxy:x({postEvent:fn()})()});function dn(t){return Fr().isValid(t)}function Mr(){try{return window.self!==window.top}catch{return!0}}var Hr=Object.defineProperty,Jr=(t,e,n)=>e in t?Hr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hn=(t,e,n)=>Jr(t,typeof e!="symbol"?e+"":e,n);let p=class bn extends Error{constructor(e,n,r){super(typeof n=="object"?n.message:n||e,{cause:typeof n=="object"?n.cause:r}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,bn.prototype)}};function gn(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function ot(...t){const e=t.flat(1);return[e.push.bind(e),()=>{e.forEach(n=>{n()})}]}const Gr="ERR_ABORTED",Kr="ERR_CANCELED",Yr="ERR_TIMED_OUT";function je(t){return new p(Gr,{cause:t})}function Ne(t,e){return t.reject=e.reject,t}class g extends Promise{constructor(e,n){let r,o;typeof e=="function"?(r=e,o=n):o=e;let s,i;super((a,l)=>{o||(o={});const{abortSignal:c}=o;if(c&&c.aborted)return l(je(c.reason));const[_,m]=ot(),y=d=>(...L)=>(m(),d(...L)),T=new AbortController,{signal:A}=T;i=y(d=>{T.abort(d),l(d)}),s=y(a),c&&_(gn(c,"abort",()=>{i(je(c.reason))}));const{timeout:b}=o;if(b){const d=setTimeout(()=>{i(new p(Yr,`Timeout reached: ${b}ms`))},b);_(()=>{clearTimeout(d)})}r&&r(s,i,A)}),hn(this,"reject"),this.reject=i}static withFn(e,n){return new g((r,o,s)=>{try{const i=e(s);return i instanceof Promise?i.then(r,o):r(i)}catch(i){o(i)}},n)}static resolve(e){return new g(n=>{n(e)})}static reject(e){return new g((n,r)=>{r(e)})}cancel(){this.reject(new p(Kr))}catch(e){return this.then(void 0,e)}finally(e){return Ne(super.finally(e),this)}then(e,n){return Ne(super.then(e,n),this)}}function Ue(t,e){return t.resolve=e.resolve,t}let Zr=class at extends g{constructor(e,n){let r,o;typeof e=="function"?(r=e,o=n):o=e;let s;super((i,a,l)=>{s=i,r&&r(i,a,l)},o),hn(this,"resolve"),this.resolve=s}static withFn(e,n){return new at((r,o,s)=>g.withFn(e,{abortSignal:s}).then(r,o),n)}static resolve(e){return new at(n=>{n(e)})}static reject(e){return new at((n,r)=>{r(e)})}catch(e){return this.then(void 0,e)}finally(e){return Ue(super.finally(e),this)}then(e,n){return Ue(super.then(e,n),this)}};function mn(t){return`tapps/${t}`}function k(t,e){sessionStorage.setItem(mn(t),JSON.stringify(e))}function C(t){const e=sessionStorage.getItem(mn(t));try{return e?JSON.parse(e):void 0}catch{}}function ie(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function zr(t,e){const{textColor:n,bgColor:r,shouldLog:o=!0}=e;function s(i,...a){if(!o||typeof o=="function"&&!o())return;const l="font-weight:bold;padding:0 5px;border-radius:5px";console[i](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${t}`,`${l};background-color: lightblue;color:black`,"",`${l};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...a)}return[function(...i){s("log",...i)},function(...i){s("error",...i)}]}function ae(t,e){document.documentElement.style.setProperty(t,e)}function ce(t){document.documentElement.style.removeProperty(t)}function Qr(t,e){e()}function M(t,e){e||(e={});const n=e.equals||Object.is;let r=[],o=t;const s=c=>{if(!n(o,c)){const _=o;o=c,Qr(l,()=>{[...r].forEach(([m,y])=>{m(c,_),y&&a(m,!0)})})}};function i(c){const _=typeof c!="object"?{once:c}:c;return{once:_.once||!1,signal:_.signal||!1}}const a=(c,_)=>{const m=i(_),y=r.findIndex(([T,A])=>T===c&&A.once===m.once&&A.signal===m.signal);y>=0&&r.splice(y,1)},l=Object.assign(function(){return Xr(l),o},{destroy(){r=[]},set:s,reset(){s(t)},sub(c,_){return r.push([c,i(_)]),()=>a(c,_)},unsub:a,unsubAll(){r=r.filter(c=>c[1].signal)}});return l}const Lt=[];function Xr(t){Lt.length&&Lt[Lt.length-1].add(t)}const to=M(!1),[wn,eo]=zr("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:to}),no={clipboard_text_received:x({req_id:R(),data:t=>t===null?t:R(!0)(t)},"clipboard_text_received"),custom_method_invoked:x({req_id:R(),result:t=>t,error:R(!0)},"custom_method_invoked"),popup_closed:P("popup_closed",t=>t?x({button_id:e=>e==null?void 0:R()(e)})()(t):{}),viewport_changed:x({height:et(),width:t=>t==null?window.innerWidth:et()(t),is_state_stable:lt(),is_expanded:lt()},"viewport_changed")};function ro(t){const e=window,[,n]=ot(gn(e,"message",r=>{if(r.source!==e.parent)return;let o;try{o=Wr()(r.data)}catch{return}const{eventType:s,eventData:i}=o,a=no[s];try{const l=a?a()(i):i;wn("Event received:",l?{eventType:s,eventData:l}:{eventType:s}),t([s,l])}catch(l){eo([`An error occurred processing the "${s}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),o,l)}}));return n}const qe=M(),Ve=M();function oo(){return Ve()||Ve.set(ro(qe.set)),qe}const jt=M({});function yn(t){let e=jt()[t];return e||(e=M(void 0,{equals(){return!1}}),oo().sub(n=>{n&&n[0]===t&&e.set(n[1])}),jt.set({...jt(),[t]:e})),e}function E(t,e,n){return yn(t).sub(e,n)}const so="ERR_RETRIEVE_LP_FAILED",vn="ERR_UNKNOWN_ENV",io="ERR_INVOKE_CUSTOM_METHOD_RESPONSE",ao=M("https://web.telegram.org");function En(t,e){wn("Posting event:",e?{eventType:t,eventData:e}:{eventType:t});const n=window;if(dn(n)){n.TelegramWebviewProxy.postEvent(t,JSON.stringify(e));return}const r=JSON.stringify({eventType:t,eventData:e});if(Mr())return n.parent.postMessage(r,ao());const{external:o}=n;if(x({notify:fn()})().isValid(o)){o.notify(r);return}throw new p(vn)}function ue(t,e,n){n||(n={});const{capture:r}=n,[o,s]=ot();return new g(i=>{(Array.isArray(e)?e:[e]).forEach(a=>{o(E(a,l=>{(!r||(Array.isArray(e)?r({event:a,payload:l}):r(l)))&&i(l)}))}),(n.postEvent||En)(t,n.params)},n).finally(s)}function An(t){return Vr()(t)}function Sn(t){return An(t.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function co(){return Sn(window.location.href)}function uo(){const t=performance.getEntriesByType("navigation")[0];if(!t)throw new Error("Unable to get first navigation entry.");return Sn(t.name)}const lo="launchParams";function po(){return An(C(lo)||"")}function _o(t){k("launchParams",Br(t))}function Rn(t){return t instanceof Error?t.message+(t.cause?`
  ${Rn(t.cause)}`:""):JSON.stringify(t)}function dt(){const t=[];for(const e of[co,uo,po])try{const n=e();return _o(n),n}catch(n){t.push(n)}throw new p(so,["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","📖 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment","Collected errors:",...t.map(e=>`— ${Rn(e)}`)].join(`
`))}function Be(t){try{return dt(),!0}catch{return!1}return g.withFn(async()=>{if(dn(window))return!0;try{return await ue("web_app_request_theme","theme_changed",{timeout:100}),!0}catch{return!1}},t)}function ht(t,e,n){yn(t).unsub(e,n)}function fo(t){return({req_id:e})=>e===t}function We(t){return t.split(".").map(Number)}function ho(t,e){const n=We(t),r=We(e),o=Math.max(n.length,r.length);for(let s=0;s<o;s+=1){const i=n[s]||0,a=r[s]||0;if(i!==a)return i>a?1:-1}return 0}function w(t,e){return ho(t,e)<=0}function Jt(t,e,n){if(typeof n=="string"){if(t==="web_app_open_link"){if(e==="try_instant_view")return w("6.4",n);if(e==="try_browser")return w("7.6",n)}if(t==="web_app_set_header_color"&&e==="color")return w("6.9",n);if(t==="web_app_close"&&e==="return_back")return w("7.6",n);if(t==="web_app_setup_main_button"&&e==="has_shine_effect")return w("7.10",n)}switch(t){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return w("6.1",e);case"web_app_open_popup":return w("6.2",e);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return w("6.4",e);case"web_app_switch_inline_query":return w("6.7",e);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return w("6.9",e);case"web_app_setup_settings_button":return w("6.10",e);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return w("7.2",e);case"web_app_setup_swipe_behavior":return w("7.7",e);case"web_app_share_to_story":return w("7.8",e);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return w("7.10",e);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":return w("8.0",e);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(t)}}function bo(t,e,n,r){return ue("web_app_invoke_custom_method","custom_method_invoked",{...r,params:{method:t,params:e,req_id:n},capture:fo(n)}).then(({result:o,error:s})=>{if(s)throw new p(io,s);return o})}function go(){return performance.getEntriesByType("navigation")[0]}function I(){const t=go();return!!t&&t.type==="reload"}let B;function mo(t,e){B&&B.set(t,e)||e()}function Gt(t){if(B)return t();B=new Map;try{t()}finally{B.forEach(e=>e()),B=void 0}}function u(t,e){e||(e={});const n=e.equals||Object.is;let r=[],o=t;const s=c=>{if(!n(o,c)){const _=o;o=c,mo(l,()=>{[...r].forEach(([m,y])=>{m(c,_),y&&a(m,!0)})})}};function i(c){const _=typeof c!="object"?{once:c}:c;return{once:_.once||!1,signal:_.signal||!1}}const a=(c,_)=>{const m=i(_),y=r.findIndex(([T,A])=>T===c&&A.once===m.once&&A.signal===m.signal);y>=0&&r.splice(y,1)},l=Object.assign(function(){return wo(l),o},{destroy(){r=[]},set:s,reset(){s(t)},sub(c,_){return r.push([c,i(_)]),()=>a(c,_)},unsub:a,unsubAll(){r=r.filter(c=>c[1].signal)}});return l}const z=[];function wo(t){z.length&&z[z.length-1].add(t)}function v(t,e){let n=new Set,r;function o(){return r||(r=u(i(),e))}function s(){o().set(i())}function i(){n.forEach(c=>{c.unsub(s,{signal:!0})});const a=new Set;let l;z.push(a);try{l=t()}finally{z.pop()}return a.forEach(c=>{c.sub(s,{signal:!0})}),n=a,l}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...a){return o().sub(...a)},unsub(...a){o().unsub(...a)},unsubAll(...a){o().unsubAll(...a)}})}const yo=u((()=>{let t=0;return()=>(t+=1).toString()})()),vo=u(En),q=u("0.0");function Eo(){return yo()()}function bt(t,e,n){return bo(t,e,Eo(),{...n||{},postEvent:h})}const O=(t,e,n)=>(n||(n={}),n.postEvent||(n.postEvent=h),ue(t,e,n)),h=(t,e)=>vo()(t,e),K="ERR_POPUP_INVALID_PARAMS",le="ERR_INVALID_URL",Ao="ERR_INVALID_SLUG",pe="ERR_ALREADY_REQUESTING",_e="ERR_ALREADY_OPENED",So="ERR_ALREADY_MOUNTING",Ro="ERR_VARS_ALREADY_BOUND",ko="ERR_NOT_AVAILABLE",Co="ERR_NOT_INITIALIZED",Fe="ERR_NOT_SUPPORTED",$o="ERR_NOT_MOUNTED",xo="ERR_FULLSCREEN_FAILED";function Me(){return typeof window>"u"}function gt(t,e,{isSupported:n,isMounted:r,component:o,supports:s}={}){const i=`${o?`${o}.`:""}${t}()`;n=n?Array.isArray(n)||typeof n=="object"&&"any"in n?n:[n]:void 0;function a(b){if(s){const d=s[b];return Jt(d[0],d[1],q())}return!0}const l=()=>{if(!n)return;const b=`it is unsupported in Mini Apps version ${q()}`;function d(S){return typeof S=="string"?Jt(S,q())?void 0:b:S.fn()?void 0:S.error}if(Array.isArray(n)){for(const S of n){const Oe=d(S);if(Oe)return Oe}return}let L;for(const S of n.any)if(L=d(S),!L)return;return b},c=(...b)=>{if(s){for(const d in s)if(s[d][2](...b)&&!a(d))return`option ${d} is not supported in Mini Apps version ${q()}`}},_=v(()=>!l()),m=v(()=>q()!=="0.0"),y=v(()=>!r||r()),T=v(()=>Be("simple")&&!Me()&&m()&&_()&&y());let A;if(s){A={};for(const b in s)A[b]=v(()=>a(b))}return Object.assign((...b)=>{const d=`Unable to call the ${i} ${o?"method":"function"}:`;if(Me()||!Be("simple"))throw new p(vn,`${d} it can't be called outside Mini Apps`);if(!m())throw new p(Co,`${d} the SDK was not initialized. Use the SDK init() function`);const L=l();if(L)throw new p(Fe,`${d} ${L}`);const S=c(...b);if(S)throw new p(Fe,`${d} ${S}`);if(!y())throw new p($o,`${d} the component is not mounted. Use the ${o}.mount() method`);return e(...b)},e,{isAvailable:T,ifAvailable(...b){return T()?e(...b):void 0}},n?{isSupported:_}:{},A?{supports:A}:{})}function mt(t,e){return e||(e={}),(n,r,o,s)=>gt(n,r,{...e,isSupported:o||e.isSupported,supports:s,component:t})}function U(t,e,n){return mt(t,{isSupported:n,isMounted:e})}function $(t,e){return mt(t,{isSupported:e})}const fe="web_app_setup_back_button",kn="back_button_pressed",wt="backButton",He=u(!1),Kt=u(!1),Cn=U(wt,Kt,fe),de=$(wt,fe);Cn("hide",()=>{he(!1)});de("mount",()=>{Kt()||(he(I()&&C(wt)||!1),Kt.set(!0))});function he(t){t!==He()&&(h(fe,{is_visible:t}),k(wt,t),He.set(t))}de("onClick",t=>E(kn,t));de("offClick",t=>{ht(kn,t)});Cn("show",()=>{he(!0)});function $n(t,e,n,r,o){const s=o===void 0||o?g:Promise;return Object.assign((...i)=>s.resolve().then(async()=>{if(n()){const l=e();throw r.set(l),l}Gt(()=>{n.set(s.resolve(t(...i))),r.set(void 0)});let a;try{a=[!0,await n()]}catch(l){a=[!1,l]}if(Gt(()=>{n.set(void 0),r.set(a[0]?void 0:a[1])}),!a[0])throw a[1];return a[1]}),t)}function xn(t,e,n,r,o,s){const i=$n(e,()=>new p(So,`The ${t} component is already mounting`),o,s);return a=>g.resolve().then(async()=>{if(!r()){const l=await i(a);Gt(()=>{r.set(!0),n(l)})}})}const D=mt,Pn=u({available:!1}),Nt=u(!1),Ut=u(!1),In=u(!1),Po=u(),Io=u();function be(t){return t.available?{available:!0,tokenSaved:t.token_saved,deviceId:t.device_id,accessRequested:t.access_requested,type:t.type,accessGranted:t.access_granted}:{available:!1}}const Je="web_app_biometry_get_info",Oo=gt("requestBiometry",t=>O(Je,"biometry_info_received",t).then(be),{isSupported:Je}),ge="web_app_biometry_request_auth",To="web_app_biometry_request_access",Do="web_app_biometry_open_settings",Lo="web_app_biometry_update_token",On="biometry_info_received",F="biometry",jo=D(F),No=$(F,ge),me=U(F,In,ge);function Tn(){throw new p(ko,"Biometry is not available")}me("authenticate",t=>g.withFn(async e=>{if(Nt())throw new p(pe,"Authentication is already in progress");const n=Pn();(!n||!n.available)&&Tn(),Nt.set(!0);try{const r=await O(ge,"biometry_auth_requested",{abortSignal:e,params:{reason:((t||{}).reason||"").trim()}}),{token:o}=r;return typeof o=="string"&&yt({...n,token:o}),r}finally{Nt.set(!1)}},t));No("openSettings",()=>{h(Do)});me("requestAccess",t=>g.withFn(async e=>{if(Ut())throw new p(pe,"Access request is already in progress");Ut.set(!0);try{const n=await O(To,On,{abortSignal:e,params:{reason:(t||{}).reason||""}}).then(be);return n.available||Tn(),yt(n),n.accessGranted}finally{Ut.set(!1)}},t));jo("mount",xn(F,t=>I()&&C(F)||Oo(t),t=>{E(On,Uo),yt(t)},In,Io,Po));const Uo=t=>{yt(be(t))};function yt(t){Pn.set(t),k(F,t)}me("updateToken",t=>(t||(t={}),O(Lo,"biometry_token_updated",{...t,params:{token:t.token||"",reason:t.reason}}).then(e=>e.status)));function vt(t,e){return mt(t,{isMounted:e})}const Et="closingBehavior",Ge=u(!1),Yt=u(!1),Dn=vt(Et,Yt),qo=D(Et);Dn("disableConfirmation",()=>{we(!1)});Dn("enableConfirmation",()=>{we(!0)});qo("mount",()=>{Yt()||(we(I()&&C(Et)||!1),Yt.set(!0))});function we(t){t!==Ge()&&(h("web_app_setup_closing_behavior",{need_confirmation:t}),k(Et,t),Ge.set(t))}const Vo="web_app_invoke_custom_method",At=$("cloudStorage",Vo);At("deleteItem",(t,e)=>{const n=Array.isArray(t)?t:[t];return n.length?bt("deleteStorageValues",{keys:n},e).then():g.resolve()});function Bo(t,e){const n=Array.isArray(t)?t:[t];return n.length?bt("getStorageValues",{keys:n},e).then(r=>{const o=Sr(Object.fromEntries(n.map(s=>[s,se()])))()(r);return Array.isArray(t)?o:o[t]}):g.resolve(typeof t=="string"?"":{})}At("getItem",Bo);At("getKeys",t=>bt("getStorageKeys",{},t).then(xr(se())()));At("setItem",(t,e,n)=>bt("saveStorageValue",{key:t,value:e},n).then());const St="web_app_trigger_haptic_feedback",ye=$("hapticFeedback",St);ye("impactOccurred",t=>{h(St,{type:"impact",impact_style:t})});ye("notificationOccurred",t=>{h(St,{type:"notification",notification_type:t})});ye("selectionChanged",()=>{h(St,{type:"selection_change"})});const Ln="web_app_open_invoice",Wo=$("invoice",Ln),qt=u(!1);async function Fo(t,e,n){if(qt())throw new p(_e,"An invoice is already opened");let r;if(e==="url"){const{hostname:o,pathname:s}=new URL(t,window.location.href);if(o!=="t.me")throw new p(le,`Link has unexpected hostname: ${o}`);const i=s.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!i)throw new p(Ao,'Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=i}else r=t,n=e;return qt.set(!0),O(Ln,"invoice_closed",{...n,params:{slug:r},capture:o=>r===o.slug}).then(o=>o.status).finally(()=>{qt.set(!1)})}Wo("open",Fo);function jn(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}const Zt=u(!1),Vt=u(!1),W=u({});function st(t){return v(()=>W()[t])}const Nn=st("bgColor"),Un=st("buttonColor"),Mo=st("buttonTextColor"),Ho=st("bottomBarBgColor"),zt=st("secondaryBgColor"),Q=u({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),Jo=v(()=>{const t=Q();return{...t,backgroundColor:t.backgroundColor||Un()||"#2481cc",textColor:t.textColor||Mo()||"#ffffff"}}),Qt=u(!1),Go="web_app_setup_main_button",qn="main_button_pressed",Rt="mainButton",ve=D(Rt),Ko=vt(Rt,Qt);ve("mount",()=>{if(!Qt()){const t=I()&&C(Rt);t&&Q.set(t),Qt.set(!0)}});ve("onClick",t=>E(qn,t));ve("offClick",t=>{ht(qn,t)});Ko("setParams",t=>{Q.set({...Q(),...jn(t)}),k(Rt,Q());const e=Jo();e.text&&h(Go,{color:e.backgroundColor,has_shine_effect:e.hasShineEffect,is_active:e.isEnabled,is_progress_visible:e.isLoaderVisible,is_visible:e.isVisible,text:e.text,text_color:e.textColor})});function Ee(){throw new p(Ro,"CSS variables are already bound")}function Yo(t){return $r()(t)}const kt="themeParams",Zo="theme_changed",zo=D(kt),Qo=vt(kt,Zt);Qo("bindCssVars",t=>{Vt()&&Ee(),t||(t=r=>`--tg-theme-${ie(r)}`);function e(r){Object.entries(W()).forEach(([o,s])=>{s&&r(o,s)})}function n(){e((r,o)=>{ae(t(r),o)})}return n(),W.sub(n),Vt.set(!0),()=>{e(ce),W.unsub(n),Vt.set(!1)}});const Xo=zo("mount",()=>{Zt()||(E(Zo,ts),W.set(I()&&C(kt)||dt().themeParams),Zt.set(!0))}),ts=t=>{const e=Yo(t.theme_params);W.set(e),k(kt,e)};function Vn(t){return v(()=>{const e=t();return tt(e)?e:e==="bg_color"?Nn():zt()})}const pt=u("bg_color"),es=Vn(pt),_t=u("bottom_bar_bg_color"),Bn=v(()=>{const t=_t();return tt(t)?t:t==="bottom_bar_bg_color"?Ho()||zt():t==="secondary_bg_color"?zt():Nn()}),ft=u("bg_color"),ns=Vn(ft),Xt=u(!1),Bt=u(!1),Ae=u(!0),rs=v(()=>({backgroundColor:pt(),bottomBarColor:_t(),headerColor:ft(),isActive:Ae()})),te="web_app_set_background_color",ee="web_app_set_bottom_bar_color",ct="web_app_set_header_color",os="visibility_changed",it="miniApp",Wn={any:[te,ee,ct]},Fn=D(it),ss=$(it,Wn),Ct=U(it,Xt,Wn);Ct("bindCssVars",t=>{Bt()&&Ee();const[e,n]=ot();function r(o,s){function i(){ae(o,s()||null)}i(),e(s.sub(i),ce.bind(null,o))}return t||(t=o=>`--tg-${ie(o)}`),r(t("bgColor"),es),r(t("bottomBarColor"),Bn),r(t("headerColor"),ns),e(()=>{Bt.set(!1)}),Bt.set(!0),n});Fn("close",t=>{h("web_app_close",{return_back:t})});const is=t=>{Ae.set(t.is_visible),$t()};ss("mount",()=>{if(!Xt()){const t=I()&&C(it);Xo(),as.ifAvailable(t?t.backgroundColor:"bg_color"),cs.ifAvailable(t?t.bottomBarColor:"bottom_bar_bg_color"),us.ifAvailable(t?t.headerColor:"bg_color"),Ae.set(t?t.isActive:!0),E(os,is),Xt.set(!0)}});Fn("ready",()=>{h("web_app_ready")});function $t(){k(it,rs())}const as=Ct("setBackgroundColor",t=>{t!==pt()&&(h(te,{color:t}),pt.set(t),$t())},te),cs=Ct("setBottomBarColor",t=>{t!==_t()&&(h(ee,{color:t}),_t.set(t),$t())},ee),us=Ct("setHeaderColor",t=>{t!==ft()&&(h(ct,tt(t)?{color:t}:{color_key:t}),ft.set(t),$t())},ct,{rgb:[ct,"color",tt]});function ls(t){const e=t.message.trim(),n=(t.title||"").trim(),r=t.buttons||[];if(n.length>64)throw new p(K,`Invalid title: ${n}`);if(!e||e.length>256)throw new p(K,`Invalid message: ${e}`);if(r.length>3)throw new p(K,`Invalid buttons count: ${r.length}`);return{title:n,message:e,buttons:r.length?r.map((o,s)=>{const i=o.id||"";if(i.length>64)throw new p(K,`Button with index ${s} has invalid id: ${i}`);if(!o.type||o.type==="default"||o.type==="destructive"){const a=o.text.trim();if(!a||a.length>64)throw new p(K,`Button with index ${s} has invalid text: ${a}`);return{type:o.type,text:a,id:i}}return{type:o.type,id:i}}):[{type:"close",id:""}]}}const Mn="web_app_open_popup",ps=$("popup",Mn),Wt=u(!1);ps("open",async t=>{if(Wt())throw new p(_e,"A popup is already opened");Wt.set(!0);try{const{button_id:e=null}=await O(Mn,"popup_closed",{...t,params:ls(t)});return e}finally{Wt.set(!1)}});const _s="web_app_close_scan_qr_popup",Hn="web_app_open_scan_qr_popup",fs="scan_qr_popup_closed",ds="qr_text_received",Jn=$("qrScanner",Hn),Ke=Jn("close",()=>{Z.set(!1),h(_s)}),Z=u(!1);function hs(t){return g.withFn(e=>{if(Z())throw new p(_e,"The QR Scanner is already opened");Z.set(!0),t||(t={});const{onCaptured:n,text:r,capture:o}=t,[,s]=ot(Z.sub(()=>{i.resolve()}),E(fs,()=>{Z.set(!1)}),E(ds,a=>{n?n(a.data):(!o||o(a.data))&&(i.resolve(a.data),Ke())})),i=new Zr({abortSignal:e}).catch(Ke).finally(s);return(t.postEvent||h)(Hn,{text:r}),i},t)}Jn("open",hs);const X=u({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),bs=v(()=>{const t=X();return{...t,backgroundColor:t.backgroundColor||Bn()||"#000000",textColor:t.textColor||Un()||"#2481cc"}}),ne=u(!1),Se="web_app_setup_secondary_button",Gn="secondary_button_pressed",xt="secondaryButton",Re=$(xt,Se),gs=U(xt,ne,Se);Re("mount",()=>{if(!ne()){const t=I()&&C(xt);t&&X.set(t),ne.set(!0)}});Re("onClick",t=>E(Gn,t));Re("offClick",t=>{ht(Gn,t)});gs("setParams",t=>{X.set({...X(),...Object.fromEntries(Object.entries(t).filter(([,n])=>n!==void 0))}),k(xt,X());const e=bs();e.text&&h(Se,{color:e.backgroundColor,has_shine_effect:e.hasShineEffect,is_active:e.isEnabled,is_progress_visible:e.isLoaderVisible,is_visible:e.isVisible,position:e.position,text:e.text,text_color:e.textColor})});const ke="web_app_setup_settings_button",Kn="settings_button_pressed",Pt="settingsButton",Ye=u(!1),re=u(!1),Ce=$(Pt,ke),Yn=U(Pt,re,ke);Yn("hide",()=>{$e(!1)});Ce("mount",()=>{re()||($e(I()&&C(Pt)||!1),re.set(!0))});function $e(t){t!==Ye()&&(h(ke,{is_visible:t}),k(Pt,t),Ye.set(t))}Ce("onClick",t=>E(Kn,t));Ce("offClick",t=>{ht(Kn,t)});Yn("show",()=>{$e(!0)});const xe="web_app_setup_swipe_behavior",It="swipeBehavior",oe=u(!1),Ze=u(!0),ms=$(It,xe),Zn=U(It,oe,xe);Zn("disableVertical",()=>{Pe(!1)});Zn("enableVertical",()=>{Pe(!0)});ms("mount",()=>{oe()||(Pe(I()&&C(It)||!1,!0),oe.set(!0))});function Pe(t,e){(t!==Ze()||e)&&(h(xe,{allow_vertical_swipe:t}),k(It,t),Ze.set(t))}const H="viewport",zn="web_app_request_fullscreen",ws="fullscreen_failed",Qn="fullscreen_changed",ys="safe_area_changed",vs="content_safe_area_changed",Es="viewport_changed",ze="web_app_request_safe_area",Qe="web_app_request_content_safe_area",Xe={left:0,top:0,bottom:0,right:0};function Ft(t){return Math.max(t,0)}const ut=u({contentSafeAreaInsets:Xe,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:Xe,stableHeight:0,width:0});function J(t){return v(()=>ut()[t])}function G(t){const{height:e,stableHeight:n,width:r}=t;ut.set({...ut(),...jn({...t,height:e?Ft(e):void 0,width:r?Ft(r):void 0,stableHeight:n?Ft(n):void 0})}),k(H,ut())}function As(){return C(H)}const Ss=J("isFullscreen"),Rs=u(),ks=u(),Ie=u(!1),Cs=u(void 0),$s=u(),xs=U(H,Ie,zn);function Xn(t,e){return xs(t,$n(n=>O(e,[Qn,ws],n).then(r=>{if("error"in r){if(r.error==="ALREADY_FULLSCREEN")return!0;throw new p(xo,"Fullscreen request failed",r.error)}return r.is_fullscreen}).then(r=>{r!==Ss()&&G({isFullscreen:r})}),()=>new p(pe,"Fullscreen mode change is already being requested"),Rs,ks))}Xn("requestFullscreen",zn);Xn("exitFullscreen","web_app_exit_fullscreen");const tr=D(H),Ps=vt(H,Ie);function Ot(t){return v(()=>er()[t])}const er=J("safeAreaInsets"),Is=Ot("bottom"),Os=Ot("left"),Ts=Ot("right"),Ds=Ot("top");function Tt(t){return v(()=>nr()[t])}const nr=J("contentSafeAreaInsets"),Ls=Tt("bottom"),js=Tt("left"),Ns=Tt("right"),Us=Tt("top"),qs=gt("requestContentSafeAreaInsets",t=>O(Qe,"content_safe_area_changed",t),{isSupported:Qe}),Vs=gt("requestSafeAreaInsets",t=>O(ze,"safe_area_changed",t),{isSupported:ze});function Bs(t){return O("web_app_request_viewport","viewport_changed",t).then(e=>({height:e.height,width:e.width,isExpanded:e.is_expanded,isStable:e.is_state_stable}))}const Ws=t=>{const{height:e}=t;G({isExpanded:t.is_expanded,height:e,width:t.width,stableHeight:t.is_state_stable?e:void 0})},Fs=t=>{G({isFullscreen:t.is_fullscreen})},Ms=t=>{G({safeAreaInsets:t})},Hs=t=>{G({contentSafeAreaInsets:t})};tr("mount",xn(H,t=>g.resolve().then(async()=>{const e=I()&&As();if(e)return e;const[n,r]=await g.all([Vs.ifAvailable(t)||er(),qs.ifAvailable(t)||nr()]),o=dt(),s={contentSafeAreaInsets:r,isFullscreen:!!o.fullscreen,safeAreaInsets:n};if(["macos","tdesktop","unigram","webk","weba","web"].includes(o.platform)){const i=window;return{...s,height:i.innerHeight,isExpanded:!0,stableHeight:i.innerHeight,width:i.innerWidth}}return Bs(t).then(i=>({...s,height:i.height,isExpanded:i.isExpanded,stableHeight:i.isStable?i.height:0,width:i.width}))}),t=>{E(Es,Ws),E(Qn,Fs),E(ys,Ms),E(vs,Hs),G(t)},Ie,$s,Cs));const Mt=u(!1),Js=J("height"),Gs=J("stableHeight"),Ks=J("width");Ps("bindCssVars",t=>{Mt()&&Ee(),t||(t=n=>`--tg-viewport-${ie(n)}`);const e=[["height",Js],["stableHeight",Gs],["width",Ks],["safeAreaInsetTop",Ds],["safeAreaInsetBottom",Is],["safeAreaInsetLeft",Os],["safeAreaInsetRight",Ts],["contentSafeAreaInsetTop",Us],["contentSafeAreaInsetBottom",Ls],["contentSafeAreaInsetLeft",js],["contentSafeAreaInsetRight",Ns]].reduce((n,[r,o])=>{const s=t(r);if(s){const i=()=>{ae(s,`${o()}px`)};n.push([i,o.sub(i),s])}return n},[]);return e.forEach(n=>{n[0]()}),Mt.set(!0),()=>{e.forEach(n=>{n[1](),ce(n[2])}),Mt.set(!1)}});tr("expand",()=>{h("web_app_expand")});const Ys=D();Ys("openLink",(t,e)=>{if(typeof t=="string")try{t=new URL(t)}catch(n){throw new p(le,`"${t.toString()}" is invalid URL`,n)}e||(e={}),h("web_app_open_link",{url:t.toString(),try_browser:e.tryBrowser,try_instant_view:e.tryInstantView})});const tn="web_app_open_tg_link",Zs=D(),zs=Zs("openTelegramLink",t=>{const e=t.toString();if(!e.match(/^https:\/\/t.me\/.+/))throw new p(le,`"${e}" is invalid URL`);if(!Jt(tn,q())){window.location.href=e;return}t=new URL(t),h(tn,{path_full:t.pathname+t.search})}),Qs=D();Qs("shareURL",(t,e)=>{zs("https://t.me/share/url?"+new URLSearchParams({url:t,text:e||""}).toString().replace(/\+/g,"%20"))});const Xs={data(){return{initDataRaw:"",data:""}},components:{vFooter:mr},methods:{async sendInitDataToServer(){const{initDataRaw:t}=dt();try{const e=await fetch("https://your-fastapi-url.com/api",{method:"POST",headers:{Authorization:`tma ${t}`}}),n=await e.json();e.ok?(console.log("User authorized",n),this.data=n):(console.error("Access denied"),this.data="Ошибочка")}catch(e){console.error("Error while sending initData",e),this.data="Ошибочка 2"}}},mounted(){this.sendInitDataToServer()}},ti={class:"wrapper"},ei={class:"v-rate"},ni={class:"v-rate__cotainer container"},ri={class:"v-rate__info info"},oi={class:"v-rate__subtitle subtitle"};function si(t,e,n,r,o,s){const i=Ht("router-link"),a=Ht("vFooter");return nn(),rn("div",ti,[f("main",ei,[f("div",ni,[f("div",ri,[e[1]||(e[1]=f("h1",{class:"v-rate__title title"},"Тарифы",-1)),e[2]||(e[2]=f("p",{class:"v-rate__subtitle subtitle"},"Выберите свой тариф",-1)),f("p",oi,"тут долно быть что-то ---- "+Te(o.data)+", "+Te(o.initDataRaw),1),V(i,{to:{name:"registration-step-2"}},{default:Y(()=>e[0]||(e[0]=[or("Ссылка на второй шаг")])),_:1})]),e[3]||(e[3]=rr('<div class="v-rate__content"><ul class="v-rate__list"><li class="v-rate__list-item rate"><h3 class="rate__title title"> Базовый </h3><h2 class="rate__price"> 20$ </h2><p class="rate__subtitle subtitle">1 месяц доступ </p><p class="rate__subtitle subtitle">План тренировок</p><p class="rate__subtitle subtitle">План питания</p></li><li class="v-rate__list-item rate"><h3 class="rate__title title"> Средний </h3><h2 class="rate__price"> 35$ </h2><p class="rate__subtitle subtitle">3 месяца доступ </p><p class="rate__subtitle subtitle">План тренировок</p><p class="rate__subtitle subtitle">План питания</p></li><li class="v-rate__list-item rate"><h3 class="rate__title title"> Средний </h3><h2 class="rate__price"> 60$ </h2><p class="rate__subtitle subtitle">6 месяцев доступ </p><p class="rate__subtitle subtitle">План тренировок</p><p class="rate__subtitle subtitle">План питания</p></li></ul></div>',1))])]),V(a)])}const ai=en(Xs,[["render",si]]);export{ai as default};
