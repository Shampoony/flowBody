import{h as m,r as c,f,c as v,b as g,w as u,a as o,i as p,v as d}from"./index-D4K-HCTX.js";import{_ as w}from"./v-user-DRNESjTP.js";const y=m("register",{state:()=>({registrationForm:{gender:"",city:""}}),actions:{updateFormField(a,e){this.registrationForm.hasOwnProperty(a)&&(this.registrationForm[a]=e),console.log(this.registrationForm)}}}),_="https://b6c5-94-158-60-244.ngrok-free.app";async function b(a){var e,t;try{const s=await axios.post(`${_}/api/user/check_user/${a}`);console.log(s)}catch(s){console.error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||"Ошибка регистрации. Попробуйте снова.")}}async function h(a,e){var t,s;try{const n=await axios.post(`${_}/api/user/check_user/${a}`,e);console.log(n)}catch(n){console.error(((s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)||"Ошибка регистрации. Попробуйте снова.")}}const k={class:"v-register-num"},x={class:"v-user__content"},F={action:"",class:"v-user__form"},U={class:"v-user__form-block"},$={class:"v-user__form-block"},N={__name:"v-register-info",setup(a){var l;y();const e=c(""),t=c(""),s=(l=window==null?void 0:window.Telegram)==null?void 0:l.WebApp,n=async()=>{s&&s.initDataUnsafe.user&&(await b(s.initDataUnsafe.user.id),await h(JSON.stringify({gender:e.value,country:t.value})))};return(D,r)=>(f(),v("div",k,[g(w,{step:3,type:"register"},{content:u(()=>[o("div",x,[o("form",F,[o("div",U,[r[2]||(r[2]=o("label",{for:"number",class:"v-user__form-label"},"Пол",-1)),p(o("input",{type:"text",class:"v-user__form-input",id:"password1","onUpdate:modelValue":r[0]||(r[0]=i=>e.value=i),placeholder:"Введите ваш пол"},null,512),[[d,e.value]])]),o("div",$,[r[3]||(r[3]=o("label",{for:"password2",class:"v-user__form-label"},"Город",-1)),p(o("input",{type:"text",class:"v-user__form-input",id:"password2","onUpdate:modelValue":r[1]||(r[1]=i=>t.value=i),placeholder:"Введите вашу страну"},null,512),[[d,t.value]])])])])]),buttons:u(()=>[o("div",{class:"v-user__button",onClick:n}," Продолжить ")]),_:1})]))}};export{N as default};
